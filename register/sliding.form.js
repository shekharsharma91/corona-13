$(function(){function i(){var t=false;for(var n=1;n<e;++n){var r=s(n);if(r==-1)t=true}$("#formElem").data("errors",t)}function s(t){if(t==e)return;var n=1;var r=false;$("#formElem").children(":nth-child("+parseInt(t)+")").find(":input:not(button)").each(function(){var e=$(this);var t=jQuery.trim(e.val()).length;if(t==""){r=true;e.css("background-color","#FFEDEF")}else e.css("background-color","#FFFFFF")});var i=$("#navigation li:nth-child("+parseInt(t)+") a");i.parent().find(".error,.checked").remove();var s="checked";if(r){n=-1;s="error"}$('<span class="'+s+'"></span>').insertAfter(i);return n}var e=$("#formElem").children().length;var t=1;var n=0;var r=new Array;$("#steps .step").each(function(e){var t=$(this);r[e]=n;n+=t.width()});$("#steps").width(n);$("#formElem").children(":first").find(":input:first").focus();$("#navigation").show();$("#navigation a").bind("click",function(n){var o=$(this);var u=t;o.closest("ul").find("li").removeClass("selected");o.parent().addClass("selected");t=o.parent().index()+1;$("#steps").stop().animate({marginLeft:"-"+r[t-1]+"px"},500,function(){if(t==e)i();else s(u);$("#formElem").children(":nth-child("+parseInt(t)+")").find(":input:first").focus()});n.preventDefault()});$("#formElem > fieldset").each(function(){var e=$(this);e.children(":last").find(":input").keydown(function(e){if(e.which==9){$("#navigation li:nth-child("+(parseInt(t)+1)+") a").click();$(this).blur();e.preventDefault()}})});$("#registerButton").bind("click",function(){if($("#formElem").data("errors")){alert("Please correct the errors in the Form");return false}})})